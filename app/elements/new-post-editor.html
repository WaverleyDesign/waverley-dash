<dom-module id="new-post-editor">
  <template>
    <style include="shared-styles"></style>
    <style include="iron-flex iron-flex-alignment"></style>
    <style>
      div [hidden] !important {
        display: none;
      }

      paper-card {
        width: 100%;
        padding: 0px;
      }

      .card-content {
        padding: 0px;
      }
    </style>


      <paper-dialog id="dialog">
        <h2>Confirm Submit</h2>
        <p>
          All good to post?
        </p>
        <div class="buttons">
          <paper-button dialog-confirm on-tap="_add">Confirm</paper-button>
          <paper-button dialog-dismiss>keep editing</paper-button>
        </div>
      </paper-dialog>



      <!-- <text-editor id="textEditor" title="{{title}}" author="{{author}}" html="{{html}}">

      </text-editor>

<paper-button on-tap="_add">Add</paper-button> -->

<paper-card>
  <div class="card-content">
    <div class="horizontal layout editor-toolbar">
      <div class="divOne">
        <paper-input no-label-float label="Title" class="big" value="{{title}}"></paper-input>
      </div>
      <div class="vertical layout divTwo">
        <div class="end-justified horizontal layout">
          <paper-icon-button icon="close" on-tap="toggle"></paper-icon-button>
        </div>
        <div class="end-justified horizontal layout">
          <p class="date">{{date}}</p>
        </div>
      </div>
    </div>
      <text-editor id="textEditor" hide-title-editor="true" html="{{html}}" title="{{title}}" author="{{author}}">
      </text-editor>
  </div>
  <div class="card-actions">
<paper-button raised on-tap="openDialog">Post</paper-button>
  </div>
</paper-card>




  </template>
  <script>
    Polymer({
      is: 'new-post-editor',
      properties: {
        hidden: {
          type: Boolean,
          value: false
        },
      },
      openDialog: function() {
        this.$.dialog.toggle();
      },
      newPost: function() {
        if (this.hidden == true) {
          this.hidden = false;
        } else if (this.hidden == false) {
          this.hidden = true;
        }
      },
      _add: function() {
        if (this.$.textEditor.html) {
          this.fire('add-post', {title: this.$.textEditor.title, author: this.$.textEditor.author, html: this.$.textEditor.html});
          this.$.textEditor.html = null;
          this.$.textEditor.title = null;
          this.$.textEditor.author = null;
        }
      },
    });
  </script>
</dom-module>
