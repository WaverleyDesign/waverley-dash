<dom-module id="collapsible-editor">
  <template>
    <style include="shared-styles"></style>
    <style include="iron-flex iron-flex-alignment"></style>
    <style>
    .toggle {
      width: 100%;
      height: 32px;
      border: 1px solid var(--accent-color);
    }
    .toggle-tall {
      width: 100%;
      height: 64px;
      border: 1px solid var(--accent-color);
    }

    </style>

    <firebase-document location="https://waverleydash.firebaseio.com" data="{{data}}"></firebase-document>

    <iron-collapse opened id="collapsePanel">
      <div class="toggle horizontal layout wrap" on-tap="toggle" >
        <p>
          {{title}}
        </p>
        <span class="flex"></span>
      </div>
    </iron-collapse>

    <iron-collapse id="collapse">
      <div class="toggle-tall" on-tap="toggle">
        <h1>Title</h1>
      </div>
        <text-editor html="{{html}}">
          <paper-button raised on-tap="submit">SUBMIT</paper-button>
        </text-editor>
    </iron-collapse>



  </template>
  <script>
    Polymer({
      is: 'collapsible-editor',
      toggle: function() {
        this.$.collapse.toggle();
        this.$.collapsePanel.toggle();
      },
      submit: function() {
        var post = new Object();
        post.html = this.html;
        post.title = this.title;
        var ref = new Firebase('https://waverleydash.firebaseio.com/blog/posts/' + this.title);
        ref.set(post);
      },
    });
  </script>
</dom-module>
