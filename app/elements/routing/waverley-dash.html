
<dom-module id="waverley-dash">
  <template>
    <style>

      neon-animated-pages {
        overflow-x: hidden;
        width: 100%;
        display: block;
        height: 1000px;
      }

      #notes {
    @apply(--layout-vertical);
    @apply(--layout-wrap);
    height: 344px;
    width: 384px;
  }

  #notes > paper-card {
    box-sizing: border-box;
    max-width: 184px;
    margin: 4px;
    flex: 0 0 auto;
  }
    </style>
    <style include="shared-styles"></style>
    <style include="iron-flex iron-flex-alignment"></style>

    <carbon-route route="{{route}}" pattern="/:tabName" data="{{data}}"></carbon-route>
    <paper-scroll-header-panel>
      <div class="paper-header">
        <paper-toolbar>
          <div class="app-name">
            <span class="waverley">Waverley</span><span class="dash">Dash</span>
          </div>
        </paper-toolbar>
        <paper-tabs selected='{{data.tabName}}' attr-for-selected="name">
          <paper-tab name='overview'>OVERVIEW</paper-tab>
        </paper-tabs>
      </div>

      <div>
        <neon-animated-pages id='animatedPages'
                             selected='{{selectedPage}}'
                             entry-animation='{{entryAnimation}}'
                             exit-animation='{{exitAnimation}}'
                             attr-for-selected="name">
          <neon-animatable class="vertical layout center" name='overview'><div id="notes">
  <paper-card heading="Call Jennifer" class="cyan">
    <div class="card-actions">
      <paper-icon-button icon="communication:call" style="color:white;"></paper-icon-button>
      <span>March 19, 2017</span>
    </div>
  </paper-card>
  <paper-card class="dark">
    <div class="card-content">
      <p>Groceries:</p>
      <paper-checkbox>almond milk</paper-checkbox>
      <paper-checkbox>coconut water</paper-checkbox>
      <paper-checkbox>cheese</paper-checkbox>
      <paper-checkbox>green apples</paper-checkbox>
    </div>
    <div class="card-actions">
      <paper-icon-button icon="communication:location-on" style="color:white"></paper-icon-button>
      <span>Campbell</span>
    </div>
  </paper-card>
  <paper-card heading="clean desk" class="lime"></paper-card>
  <paper-card image="./donuts.png" class="amber">
    <div class="card-content">New cafe opened on Valencia St.</div>
  </paper-card>
  <paper-card heading="Yuna tickets on sale 6/24" class="cyan">
  </paper-card>
</div></neon-animatable>
        </neon-animated-pages>
      </div>
    </paper-scroll-header-panel>



  </template>
  <script>
    window.addEventListener('WebComponentsReady', function() {
      Polymer({
        is: 'waverley-dash',
        properties: {
          route: {
            type: Object,
            notify: true
          }
        },
        observers: [
          'pageChanged(data.tabName)'
        ],
        pageChanged: function() {
          // We assign to selectedPage here rather than just binding
          // the selected property of neon-animated-pages to selectedPage
          // so that we can first figure out which animation to use in the
          // transition.
          var transitioningFrom = this.$.animatedPages.selected;
          var transitioningTo = this.data.tabName;
          var pagesInOrder = this.$.animatedPages.items.map(
            function(x) {return x.getAttribute('name')});
          if (pagesInOrder.indexOf(transitioningFrom) > pagesInOrder.indexOf(transitioningTo)) {
            this.entryAnimation = 'slide-from-right-animation';
            this.exitAnimation = 'slide-left-animation';
          } else {
            this.entryAnimation = 'slide-from-left-animation';
            this.exitAnimation = 'slide-right-animation';
          }

          this.selectedPage = this.data.tabName;

          window.scroll(0,0);
          // slide-from-left-animation
        }
      });
    });
  </script>
</dom-module>
